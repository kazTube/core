<div class="dp-doc-container"">

<div class="dp-doc-tags">

<div class="desktop-version"></div>
<div class="mobile-version"></div>



</div>

<div class="dp-doc-body">

در این ماژول مسیرهای مربوط به application تعریف شده‌اند. با توجه به این که مسیرهای مربوط به نسخه‌ی دسکتاپ و موبایل با یکدیگر متفاوت هستند، مسیرهای مربوط به هر نسخه در کلاس‌های جداگانه تعریف شده است و در زمان اجرا، route‌های مناسب با توجه به بستری که application بر روی آن اجرا می‌شود بارگذاری می‌شود. 

route های نسخه ی دسکتاپ در کلاس
 [DesktopRoutes](../classes/DesktopRoutes.html)
و route های مربوط به نسخه ی موبایل در کلاس
 [MobileRoutes](../classes/MobileRoutes.html)
تعریف شده اند.

در ارتباط با routeها چند نکته وجود دارد که در زیر به آنها اشاره می‌شود:

- به دلیل آنکه در این application هنگام تنظیم Router هنوز مشخص نیست که کدام routeها بایستی به Router داده شوند، در ابتدا Router با یک لیست خالی تنظیم می شود. هنگامی که application بارگذاری می شود، با توجه به اندازه‌ی صفحه ی نمایش  تشخیص داده می شود که نسخه ی دسکتاپ به کاربر نمایش داده شود یا نسخه ی موبایل (در سرویس appState). پس از مشخص شدن این موضوع، با استفاده از متد resetConfig موجود در Router، routeهای مناسب در router تنظیم می شوند.

- در تنظیمات مربوط به تعریف برخی از مسیرها، کامپوننت مربوط به مسیر توسط فیلد component مشخص می شود. هنگامی که ماژول Router با متد forRoot تنظیم می شود، این کامپوننت ها به صورت خودکار به لیست کامپوننت های entryComponents اضافه می شوند. در این application به دلیل آنکه ماژول Router با یک لیست خالی تنظیم می شود؛ لازم است کامپوننت های استفاده شده در تعریف مسیرها به صورت دستی به لیست entryComponents ماژول های مربوطه اضافه شوند.

- هنگامی که Router با متد forRoot تنظیم می شود، webpack به صورت خودکار یک map برای ماژول هایی که به صورت lazy بارگذاری می شوند ایجاد می کند و سپس با استفاده از این map ماژول ها را بارگذاری می کند. با توجه به این که در ابتدا Router با یک لیست خالی تنظیم می شود، لازم است تا لیست ماژول هایی که قرار است به صورت lazy بارگذاری شود به نحوی مشخص شود. برای مشخص کردن این ماژول ها، باید آدرس آن ها را در زیر کلید lazyModules در فایل angular.json اضافه کرد. توجه به این نکته ضروری است که Webpack از آدرس تعریف شده به عنوان کلید map استفاده می کند، بنابراین لازم است هنگام تعریف مسیر ماژول های lazy-load در تنظیمات مسیرها دقیقا از آدرسی که در این فایل تعریف شده است استفاده شود.

<div class="dp-doc-ltr-container">

    
    {
        "projects": {
            "daroopin-ui": {
                "architect": {
                    "build": {
                        "options": {
                            "lazyModules": [
                                "src/app/login/login.module",
                                "src/app/home/desktop-home.module",
                                ...
                            ]
                        }
                    }
                }
            }
        }
    }
    

</div>
</div>

</div> 